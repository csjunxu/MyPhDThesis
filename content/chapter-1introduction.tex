% !TEX TS-program = pdflatex
% !TEX root = ../thesis.tex
%
\chapter{Introduction}
\label{sec:intro}

\cleanchapterquote{"Mens cujusque is est Quisque" â€“ "Mind Makes the Man"}{Samuel Pepys}{}


Nowadays, cameras are becoming more and more widely used in many aspects of human lifes such as taking pictures, medical analysis, security monitoring and control, etc. The camera imaging pipelines are of particular importance since it is the key step of transforming the real scenes into the pictures or videos. However, during the imaging process, the noise is unavoidable to be generated due to many reasons.

\section{The Camera Imaging Pipeline}
\label{sec:intro:general}

The cameras capture the images and store as raw image formats. During the camera imaging pipeline, the photons are transformed into electronics by the photodiode in the camera sensor. The original sensor arrat (also called color filter array, or CFA) contains red, green, and blue channels, and these incomplete channels are transformed into the final RGB files via the raw converter. The camera imaging pipeline includes multiple stages such as reading raw image, black light subtraction, lens correction, demosaicing, noise reduction, white balancing, gamma curve, final color space conversion, etc \cite{browneccv2016}. Basically, a camera imaging pipeline includes demosaicing, white balancing and color space transform, gamut mapping, tone mapping, and JPEG compression \cite{crosschannel}. However, different cameras have varying structures and camera parameters, and hence resulting different imaging effects. Recently, there also exists learning based imaging pipelines which directly learn the  natural image priors from the RGB and raw images pairs.


\section{The Image Noise}
\label{sec:intro:current}

In image denoising community, the most commonly studied noise is the additive white Gaussian noise, which is used to model the independent noise in the raw images. The AWGN noise is described as a Gaussian distribution $\mathcal{N}(0,\sigma^{2})$, which means that the noise is Gaussian distributed with $0$ mean and $\sigma$ standard deviation. Most of methods are focus on this type of noise since it is a good testing bed for many other image restoration problems such as super-resolution, deblurring, inpainting, etc.

However, the realistic noise in real-world natural images captured by cameras are much more complex than the synthetic AWGN noise being widely studied. The major reason is that, during the imaging pipeline, the noise will be generated. The key reason of noise generation is unstable measurement from the discrete nature of light and the thermal agitation. The major sources of noise generated during the imaging pipeline are the random noise , the spatial non-uniformity, and quantization noise. The random noise includes photon shot noise, dark current, and readout noise. The spatial non-uniformity noise includes the fixed pattern noise (PRNU, DCNU), CCD/CMOS specific noise. 


A simplified model including various noise sources (for each pixel) can be approximately defined as follows:
\begin{equation}
\bm{P} = f((g_{cv}(\bm{C}+\bm{D})+\bm{N}_{reset})g_{out}+\bm{N}_{out})+\bm{Q}.
\end{equation}
Now the above equation is explained in details. 
$\bm{P}$ is the raw pixel value, 
$\bm{C}$ is the number of absorbed electrons (charges) transformed from the photons via the photon-diodes in the camera sensor,
$\bm{D}$ is the number of absorbed electrons generated by dark current,
$g_{cv}$ is the equivalent capacitance (EC) of the photo-diode,
$\bm{N}_{reset}$ is the thermal noise generated by the readout circuitry (or reset noise related to reset voltage),
$g_{out}$ is the gain factor during voltage to pixel value conversion (readout),
$\bm{N}_{out}$ is the readout noise,
$f$ is the camera response function, usually a linear function before attaining a saturation threshold,
$\bm{Q}$ is the quantization error happened during rounding to interger values. The quantization noise is normally negligible compared to the readout noise.

Though can be approximated as Gaussian or Poisson distribution, these noise sources will be largely changed to be more complex during the in-camera imaging pipeline, which has been analyzed in \cite{crosschannel}. Hence, the real-world noise is much more complex than the traditional additive white Gaussian noise, and should be paid more attention.


\section{The Proposed Methods}
\label{sec:intro:new}

To deal with the synthetic AWGN noise, and especially the realistic complex noise in the real-world images, we propose several methods exploiting the nonlocal self-simiarity priors of natural images. The first method is to utilize the external natural images to learn a NSS prior, which is then applied into the denoising task of input synthetic noisy image degraded by AWGN noise. The second method is to make use of power of external natural images, and then use the external NSS priors to guide the learning of the internal NSS priors of the input real noisy images. The third method is to fully utilize the internal NSS prior and make use of low rank models to exploit the NSS property of the input real noisy images. The fourth method is to use the sparse coding based method with additional weighting scheme to regard the local noise in real noisy images as a Gaussian and the prior is used to deal with the real noisy image. Finally, we construct a big real noisy images captured by widely used commercial cameras, on which we evaluate the existing image denoising methods as well as our proposed methods in this thesis. The structure of this thesis is organized as follows: in the 2nd chapter, we review the literatures in the image denoising area; in the 3rd chapter, we introduce the fully external method; in the 4th chapter, we introduce the external prior guided internal method; in the 5th chapter, we introduce the internal method based on low ran model; in the 6th chapter, we introduce the internal method based on sparse coding model; in the 7th chapter, we introduce the real noisy image dataset we construct, and finaly evaluate the proposed methods with the compared competing methods, both for synthetic AWGN or Poisson noise and real noise, including the commercial software designed especially for real noise. 


\section{Thesis Structure}
\label{sec:intro:structure}


\textbf{Chapter \ref{sec:2review}} \\[0.2em]





\textbf{Chapter \ref{sec:3external}} \\[0.2em]




\textbf{Chapter \ref{sec:feature}} \\[0.2em]





\textbf{Chapter \ref{sec:real}} \\[0.2em]





\textbf{Chapter \ref{sec:conclusions}} \\[0.2em]





